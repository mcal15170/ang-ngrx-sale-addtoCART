<div class="row">
  <div class="col-md-3">
    <div class="col-md-12 px-0 mb-3">
      <div class="card p-2">
        <h5>Filters</h5>
      </div>
    </div>
    <mat-accordion>
      <mat-expansion-panel [expanded]="true" class="p-1">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>monetization_on</mat-icon><span class="mt-1">Price</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <ul class="list-group list-group-flush">
          <mat-radio-group aria-label="Select an option">
            <li class="list-group-item">
              <mat-radio-button value="1">Heigh To Low</mat-radio-button>
            </li>
            <li class="list-group-item">
              <mat-radio-button value="2">Low To High</mat-radio-button>
            </li>
          </mat-radio-group>
        </ul>
      </mat-expansion-panel>

      <!-- color tag -->
      <ng-template [ngIf]="color.length" >
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>color_lens</mat-icon
              ><span class="mt-1">&nbsp;Color</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of color">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- brand tag -->
      <ng-template [ngIf]="brand.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>local_offer</mat-icon
              ><span class="mt-1">&nbsp;Brand</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of brand">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>

      <!-- ram -->
      <ng-template [ngIf]="ram.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>settings_input_composite</mat-icon
              ><span class="mt-1">&nbsp;Ram</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of ram">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- network_type tag -->
      <ng-template [ngIf]="network_type.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>language</mat-icon
              ><span class="mt-1">&nbsp;Network Type</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of network_type">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- os -->
      <ng-template [ngIf]="os.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>view_comfy</mat-icon
              ><span class="mt-1">&nbsp;Oprating System</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of os">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- shape tag -->
      <ng-template [ngIf]="shape.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>format_shapes</mat-icon
              ><span class="mt-1">&nbsp;Shape</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of shape">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- ideal for tag -->
      <ng-template [ngIf]="ideal_for.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>supervised_user_circle</mat-icon
              ><span class="mt-1">&nbsp;Ideal For</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of ideal_for">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- material tag -->
      <ng-template [ngIf]="material.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>layers</mat-icon
              ><span class="mt-1">&nbsp;Material</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of material">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- wired_type -->
      <ng-template [ngIf]="wired_type.length">
        <mat-expansion-panel class="p-1">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>attach_file</mat-icon
              ><span class="mt-1">&nbsp;Wired Type</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list #shoes>
            <mat-list-option *ngFor="let tag of wired_type">
              <span>{{ tag | titlecase }}</span>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </ng-template>
      <!-- offer -->
            <mat-expansion-panel class="mt-3 p-1">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <mat-icon>card_giftcard</mat-icon
                  ><span class="mt-1">&nbsp;Offers</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-selection-list #shoes>
                <mat-list-option *ngFor="let tag of offer">
                  <span>{{ tag | titlecase }}</span>
                </mat-list-option>
              </mat-selection-list>
            </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div class="col-md-9">
    <div class="row">
      <div class="col-md-12">
        <div class="card mb-3">
          <div class="row m-0 p-2">
            <div class="col-md-6">
              <h5>
                {{ currentCategoryTitle }} ({{ this.totalProduct }} items)
              </h5>
            </div>
            <div class="col-md-6">
              <button
                class="float-right categoryMenu"
                mat-button
                [matMenuTriggerFor]="categoryMenu"
              >
                Other Category
              </button>
              <mat-menu #categoryMenu="matMenu">
                <ng-container *ngFor="let item of filters">
                  <p
                    class="mb-0"
                    [ngStyle]="{
                      display:
                        item.value === 'All' || item.value === currentCategory
                          ? 'none'
                          : 'block'
                    }"
                    mat-menu-item
                  >
                    <a [href]="['/product-list/' + item.value]">
                      {{ item.viewValue }}
                    </a>
                  </p>
                </ng-container>
              </mat-menu>
            </div>
          </div>
        </div>
      </div>
      <ng-template [ngIf]="products$.length > 0">
        <div *ngFor="let item of products$" class="col-md-4 mb-4">
          <div class="card">
            <ng-template [ngIf]="item.discount">
              <p
                class="float-left mb-0 offer-icon"
                [ngStyle]="{ color: '#2874f0' }"
              >
                <mat-icon matTooltip="Discount (5%)">local_offer</mat-icon>
              </p>
            </ng-template>
            <!-- <ng-template [ngIf]="!item.discount">
                    <p class="float-right h-4" [ngStyle]="{ color: 'white' }">
                      <mat-icon>local_offer</mat-icon>
                    </p>
                  </ng-template> -->

            <div class="imgdiv" width="150px" height="150px">
              <a
                [routerLink]="['/product-detail', item.id]"
                queryParamsHandling="merge"
              >
                <img
                  [src]="'../../../../assets/img/product/' + item.img"
                  class="pro-img"
                  alt="..."
                  [ngClass]="{ blurImg: item.qty === 0 ? true : false }"
                />
              </a>
            </div>
            <div
              class="outof-stock"
              [ngStyle]="{ display: item.qty === 0 ? 'block' : 'none' }"
            >
              <span class="outof-stock-title">Out Of Stock</span>
            </div>
            <div class="card-body">
              <h5 class="card-title">{{ item.title }}</h5>
              <p class="card-text">
                <b>{{ item.id }}</b>
              </p>
              <!-- <p class="card-text">{{ item.desc }}</p> -->
            </div>
            <div class="card-body border-top pt-2">
              <div class="row">
                <!-- <div class="col-md-12">
                          <span class="_1xZuAn">Offers</span>
                          <span>No Cost EMI & 2 More</span>
                        </div> -->
                <div class="col-md-12">
                  <ul>
                    <li *ngFor="let data of item.tags">
                      {{ data.name }} =&nbsp; {{ data.value }}
                    </li>
                  </ul>
                </div>
                <div class="col-md-8 price">
                  <ng-template [ngIf]="item.discount">
                    <p class="discount-price mr-1">
                      ₹{{
                        item.price - (item.price * discountRate) / 100
                          | number: "1.2-2"
                      }}
                    </p>
                  </ng-template>
                  <ng-template [ngIf]="!item.discount">
                    <p class="discount-disable-price mb-0">
                      ₹{{ item.price | number: "1.2-2" }}
                    </p>
                  </ng-template>
                </div>
                <div class="col-md-4 mt-1">
                  <button
                    (click)="addToCart(item)"
                    [ngStyle]="{ display: item.qty === 0 ? 'none' : 'block' }"
                    class="btn btn-dark btnCart"
                  >
                    <i class="fa fa-cart-plus fa-lg"></i>
                  </button>
                </div>

                <div class="col-md-12">
                  <ng-template [ngIf]="item.discount">
                    <span class="orignal-price mr-2"
                      >₹ {{ item.price | number: "1.2-2" }}</span
                    >
                    <span class="save-rs"
                      >Save ₹{{
                        (item.price * discountRate) / 100 | number: "1.2-2"
                      }}&nbsp;(5%)</span
                    >
                  </ng-template>
                  <ng-template [ngIf]="!item.discount">
                    <span>Note: No Discount Available.</span>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
      <ng-template [ngIf]="products$.length === 0">
        <div class="col-md-12">
          <div class="alert alert-primary text-capitalize" role="alert">
            Note: product not available.
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</div>
